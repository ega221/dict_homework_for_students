"""
Вы очень любите считать. Не важно что, где и когда, главное посчитать все, что можно.
Вам на вход приходит текст. Ваша программа должна посчитать количество слов в этом тексте и вывести на печать 10
самых частых слов. Если слова встречаются одинаковое количество раз, то они должны быть отсортированы по алфавиту.

Ограничения:
- игнорируем знаки препинания (тире, запятые, многоточия и т.п.)
- слово, это все то, что отделено пробелом, символом табуляции или символом перевода строки.
- регистр игнорируется
- слова короче 3-х символов игнорируются.


Советы:
1) почитать про регулярные выражения в питоне, для визуального представления можно пользоваться сайтом
https://regex101.com/
2) вспомнить про sorted, почитать про lambda функции и сортировку с их помощью

для тестирования запустить pytest 2_task/test.py
"""
import re
from collections import Counter


def top_10_most_common_words(text: str) -> dict[str, int]:
    """Функция возвращает топ 10 слов, встречающихся в тексте.

    Args:
        text: исходный текст

    Returns:
        словарь типа {слово: количество вхождений}
    """
    words = sorted(re.findall(r"[а-я|ё]{3,}", text.lower()))

    return {word: count for word, count in Counter(words).most_common(10)}


if __name__ == "__main__":

    TEXT_3 = """
    Три девицы под окном
    Пряли поздно вечерком.
    "Кабы я была царица, -
    Говорит одна девица, -
    То на весь крещёный мир
    Приготовила б я пир".
    "Кабы я была царица, -
    Говорит ее сестрица, -
    То на весь бы мир одна
    Наткала я полотна".
    "Кабы я была царица, -
    Третья молвила сестрица, -
    Я б для батюшки-царя
    Родила богатыря".

    Только вымолвить успела,
    Дверь тихонько заскрыпела,
    И в светлицу входит царь,
    Стороны той государь.
    Во всё время разговора
    Он стоял позадь забора;
    Речь последней по всему
    Полюбилася ему.
    "Здравствуй, красная девица, -
    Говорит он, - будь царица
    И роди богатыря
    Мне к исходу сентября.
    Вы ж, голубушки-сестрицы,
    Выбирайтесь из светлицы,
    Поезжайте вслед за мной,
    Вслед за мной и за сестрой:
    Будь одна из вас ткачиха,
    А другая повариха".
    """
    print(top_10_most_common_words(TEXT_3))
